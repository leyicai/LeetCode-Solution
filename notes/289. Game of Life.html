<html>
<head>
  <title>289. Game of Life</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600753 (en-US, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="content-class" content="maxiang"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="771"/>
<h1>289. Game of Life</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>Tags:</b></td><td><i>Array, Bit Manipulation, Medium</i></td></tr>
</table>
</div>
<br/>

<div><span lang="v2" style="color: #2c3f51; font-family: Candara, Microsoft Yahei, 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 15px; line-height: 1.6; background: none;"><del style="position:relative;display:block;z-index:10;"><a href="http://maxiang.io/#/?provider=evernote&amp;guid=b7a3eec9-08f6-415e-aade-3f22469b6ed3&amp;notebook=LeetCode" style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;">Edit</a></del><div style="color: #3e3e3e; font-family: Candara, Microsoft Yahei, 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 15px; line-height: 1.6;">
                        
                    

<h1 style="margin-top: 21px; font-family: inherit; margin-bottom: 10.5px; color: #3e3e3e; font-weight: bold; line-height: 1.2; margin: 20px 0; text-align: left; padding-left: 15px; word-break: break-all; font-size: 32px; border-left: 8px solid #71BA51;">289. Game of Life</h1>

<p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;"> <br style="color: #3e3e3e;"/>
Given a board with m by n cells, each cell has an initial state live (1) or dead (0). Each cell interacts with its eight neighbors (horizontal, vertical, diagonal) using the following four rules (taken from the above Wikipedia article):</p>

<ol style="margin-top: 0; margin-bottom: 1.1em; color: #3e3e3e; padding-left: 30px; line-height: 1.6;"><li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;">Any live cell with fewer than two live neighbors dies, as if caused by under-population.</p></li>
<li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;">Any live cell with two or three live neighbors lives on to the next generation.</p></li>
<li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;">Any live cell with more than three live neighbors dies, as if by over-population..</p></li>
<li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;">Any dead cell with exactly three live neighbors becomes a live cell, as if by reproduction.</p></li>
</ol>

<p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;"><strong style="font-weight: bold; line-height: 1.6; color: #FD5B03;">1. Copy the array</strong> <br style="color: #3e3e3e;"/>
(â€¦)</p>

<p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;"><strong style="font-weight: bold; line-height: 1.6; color: #FD5B03;">2. Use More States</strong></p>

<ul style="margin-top: 0; margin-bottom: 1.1em; color: #3e3e3e; padding-left: 30px; line-height: 1.6;"><li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;">-1: 1-&gt;0 (dies by under-population)  <code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">liveNeighbor &lt; 2 || liveNeighbor &gt; 3</code></p></li>
<li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;">2: 0 -&gt;1 (live by reproduction) <code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">liveNeighbor == 3</code></p></li>
</ul>

<pre style="font-family: 'Source Code Pro',Consolas,monospace; white-space: pre-wrap; display: block; word-wrap: break-word; padding: 12px 13px; margin: 0 0 1.1em; line-height: 1.6; word-break: break-all; font-size: 13px; color: #898989; background-color: #f8f8f8; border: 0; border-radius: 3px; text-align: start; position: relative; background: #f2f2f2;"><code style="font-family: 'Source Code Pro',Consolas,monospace; white-space: pre-wrap; border-radius: 0; font-size: inherit; background-color: transparent; color: #333; display: block; overflow-x: auto; background: #f8f8f8; padding: 1.3em 2em; padding-left: 3.3em;"><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">1.</span><span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">class</span> Solution {
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">2.</span>    <span style="color: #3e3e3e; display: inline; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">public</span> <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">void</span> <span style="display: inline; line-height: 1.6; color: #900; font-weight: bold; background-color: transparent;">gameOfLife</span><span style="color: #3e3e3e; display: inline; line-height: 1.6; background-color: transparent;">(<span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span>[][] board)</span> </span>{
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">3.</span>        <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> rows, cols;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">4.</span>        rows = board.length;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">5.</span>        cols = board[<span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>].length;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">6.</span><div style="color: #3e3e3e; line-height: 1.6;"></div>
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">7.</span>        <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span>[] directions = { <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>, <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">-1</span>, <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">1</span> };
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">8.</span>        <span style="display: inline; line-height: 1.6; color: #998; font-style: italic; background-color: transparent;">// update the board</span>
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">9.</span>        <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">for</span> (<span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> i = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>; i &lt; rows; i++) {
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">10.</span>            <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">for</span> (<span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> j = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>; j &lt; cols; j++) {
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">11.</span>                <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> liveNeighbor = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">12.</span>                <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">for</span> (<span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> ii = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>; ii &lt; <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">3</span>; ii++) {
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">13.</span>                    <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">for</span> (<span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> jj = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>; jj &lt; <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">3</span>; jj++) {
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">14.</span>                        <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> row = i + directions[ii];
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">15.</span>                        <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> col = j + directions[jj];
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">16.</span>                        <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">if</span> (row &lt; <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span> || row &gt;= rows || col &lt; <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span> || col &gt;= cols || (ii + jj) == <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>)
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">17.</span>                            <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">continue</span>;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">18.</span>                        <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">else</span> <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">if</span> (Math.<span style="display: inline; line-height: 1.6; color: #0086b3; background-color: transparent;">abs</span>(board[row][col]) == <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">1</span>) {
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">19.</span>                            liveNeighbor++;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">20.</span>                        }
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">21.</span>                    }
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">22.</span>                }
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">23.</span>                <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">if</span> ((liveNeighbor &lt; <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">2</span> || liveNeighbor &gt; <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">3</span>) &amp;&amp; board[i][j] == <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">1</span>)
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">24.</span>                    board[i][j] = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">-1</span>;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">25.</span>                <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">if</span> (liveNeighbor == <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">3</span> &amp;&amp; board[i][j] == <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>)
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">26.</span>                    board[i][j] = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">2</span>;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">27.</span>            }
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">28.</span>        }
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">29.</span>        <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">for</span> (<span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> i = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>; i &lt; rows; i++) {
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">30.</span>            <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">for</span> (<span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">int</span> j = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>; j &lt; cols; j++) {
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">31.</span>                <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">if</span> (board[i][j] == <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">-1</span>)
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">32.</span>                    board[i][j] = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">0</span>;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">33.</span>                <span style="display: inline; line-height: 1.6; color: #333; font-weight: bold; background-color: transparent;">if</span> (board[i][j] == <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">2</span>)
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">34.</span>                    board[i][j] = <span style="display: inline; line-height: 1.6; color: #008080; background-color: transparent;">1</span>;
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">35.</span>            }
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">36.</span>        }
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">37.</span>    }
</div><div style="min-height: 1.5em; color: #3e3e3e; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #998; font-style: italic; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">38.</span>}
</div></code></pre>

<p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;"><strong style="font-weight: bold; line-height: 1.6; color: #FD5B03;">3. Two bits to store 2 sttes</strong></p>

<ul style="margin-top: 0; margin-bottom: 1.1em; color: #3e3e3e; padding-left: 30px; line-height: 1.6;"><li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;"><code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">00</code>: 0 &lt;- 0</p></li>
<li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;"><code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">01</code>: 0&lt;- 1 <code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">liveNeighbor &lt; 2 || liveNeighbor &gt; 3</code></p></li>
<li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;"><code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">10</code>: 1 &lt;- 0 <code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">liveNeighbor == 3</code></p></li>
<li style="color: #3e3e3e; line-height: 24px;"><p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;"><code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">11</code>: 1&lt;- 1</p></li>
</ul>

<p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;">Get prev state: board[i][j] &amp; 1 <br style="color: #3e3e3e;"/>
Get new state: board[i][j] &gt;&gt; 1</p>

<p style="color: #3e3e3e; text-align: justify; margin: 6px 0; line-height: 1.2; min-height: 1em; box-sizing: border-box; word-wrap: break-word;"><em style="color: #3e3e3e; line-height: 1.6;">Use <code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">3</code> to replace <code style="font-family: 'Source Code Pro',Consolas,monospace; font-size: .9em; padding: 2px 4px; background-color: #f9f2f4; white-space: normal; border-radius: 4px; color: #a71d5d;">-1</code> state in method 2</em></p></div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%20289.%20Game%20of%20Life%0A@%28LeetCode%29%5BArray%2C%20Medium%2C%20Bit%20Manipulation%5D%0AGiven%20a%20board%20with%20m%20by%20n%20cells%2C%20each%20cell%20has%20an%20initial%20state%20live%20%281%29%20or%20dead%20%280%29.%20Each%20cell%20interacts%20with%20its%20eight%20neighbors%20%28horizontal%2C%20vertical%2C%20diagonal%29%20using%20the%20following%20four%20rules%20%28taken%20from%20the%20above%20Wikipedia%20article%29%3A%0A1.%20Any%20live%20cell%20with%20fewer%20than%20two%20live%20neighbors%20dies%2C%20as%20if%20caused%20by%20under-population.%0A2.%20Any%20live%20cell%20with%20two%20or%20three%20live%20neighbors%20lives%20on%20to%20the%20next%20generation.%0A3.%20Any%20live%20cell%20with%20more%20than%20three%20live%20neighbors%20dies%2C%20as%20if%20by%20over-population..%0A4.%20Any%20dead%20cell%20with%20exactly%20three%20live%20neighbors%20becomes%20a%20live%20cell%2C%20as%20if%20by%20reproduction.%0A%0A**1.%20Copy%20the%20array**%0A%28...%29%0A%0A**2.%20Use%20More%20States**%0A-%20-1%3A%201-%3E0%20%28dies%20by%20under-population%29%20%20%60liveNeighbor%20%3C%202%20%7C%7C%20liveNeighbor%20%3E%203%60%0A-%202%3A%200%20-%3E1%20%28live%20by%20reproduction%29%20%60liveNeighbor%20%3D%3D%203%60%0A%0A%60%60%60%0Aclass%20Solution%20%7B%0A%20%20%20%20public%20void%20gameOfLife%28int%5B%5D%5B%5D%20board%29%20%7B%0A%20%20%20%20%20%20%20%20int%20rows%2C%20cols%3B%0A%20%20%20%20%20%20%20%20rows%20%3D%20board.length%3B%0A%20%20%20%20%20%20%20%20cols%20%3D%20board%5B0%5D.length%3B%0A%0A%20%20%20%20%20%20%20%20int%5B%5D%20directions%20%3D%20%7B%200%2C%20-1%2C%201%20%7D%3B%0A%20%20%20%20%20%20%20%20//%20update%20the%20board%0A%20%20%20%20%20%20%20%20for%20%28int%20i%20%3D%200%3B%20i%20%3C%20rows%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28int%20j%20%3D%200%3B%20j%20%3C%20cols%3B%20j++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20int%20liveNeighbor%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28int%20ii%20%3D%200%3B%20ii%20%3C%203%3B%20ii++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28int%20jj%20%3D%200%3B%20jj%20%3C%203%3B%20jj++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20int%20row%20%3D%20i%20+%20directions%5Bii%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20int%20col%20%3D%20j%20+%20directions%5Bjj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28row%20%3C%200%20%7C%7C%20row%20%3E%3D%20rows%20%7C%7C%20col%20%3C%200%20%7C%7C%20col%20%3E%3D%20cols%20%7C%7C%20%28ii%20+%20jj%29%20%3D%3D%200%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28Math.abs%28board%5Brow%5D%5Bcol%5D%29%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20liveNeighbor++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28liveNeighbor%20%3C%202%20%7C%7C%20liveNeighbor%20%3E%203%29%20%26%26%20board%5Bi%5D%5Bj%5D%20%3D%3D%201%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20board%5Bi%5D%5Bj%5D%20%3D%20-1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28liveNeighbor%20%3D%3D%203%20%26%26%20board%5Bi%5D%5Bj%5D%20%3D%3D%200%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20board%5Bi%5D%5Bj%5D%20%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20for%20%28int%20i%20%3D%200%3B%20i%20%3C%20rows%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28int%20j%20%3D%200%3B%20j%20%3C%20cols%3B%20j++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28board%5Bi%5D%5Bj%5D%20%3D%3D%20-1%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20board%5Bi%5D%5Bj%5D%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28board%5Bi%5D%5Bj%5D%20%3D%3D%202%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20board%5Bi%5D%5Bj%5D%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A**3.%20Two%20bits%20to%20store%202%20sttes**%0A-%20%6000%60%3A%200%20%3C-%200%0A-%20%6001%60%3A%200%3C-%201%20%60liveNeighbor%20%3C%202%20%7C%7C%20liveNeighbor%20%3E%203%60%0A-%20%6010%60%3A%201%20%3C-%200%20%60liveNeighbor%20%3D%3D%203%60%0A-%20%6011%60%3A%201%3C-%201%0A%0AGet%20prev%20state%3A%20board%5Bi%5D%5Bj%5D%20%26%201%0AGet%20new%20state%3A%20board%5Bi%5D%5Bj%5D%20%3E%3E%201%0A%0A*Use%20%603%60%20to%20replace%20%60-1%60%20state%20in%20method%202*</center><br/></span>
</div></body></html> 